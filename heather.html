<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@600&family=Nunito:wght@700&display=swap" rel="stylesheet">
    <style>
        .cute-formal {
            font-family: 'Quicksand', 'Nunito', Arial, sans-serif;
            font-size: 2.1rem;
            text-align: center;
            margin-top: 32px;
            margin-bottom: 24px;
            letter-spacing: 1px;
        }
        .danish-red {
            color: #d72828;
            text-shadow: 1px 1px 8px #fff, 0 0 2px #d72828;
        }
        .danish-white {
            color: #fff;
            text-shadow: 1px 1px 8px #d72828, 0 0 2px #fff;
        }
    </style>
    <script src="https://code.responsivevoice.org/responsivevoice.js"></script>
    <script>
        function playDanish(text, gender) {
            var voice = gender === 'male' ? 'Danish Male' : 'Danish Female';
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak(text, voice, {rate: 1});
            } else {
                alert("Tale-funktionen er ikke indlÃ¦st endnu. PrÃ¸v at genindlÃ¦se siden.");
            }
        }
        function playDanishSlow(text, gender) {
            var voice = gender === 'male' ? 'Danish Male' : 'Danish Female';
            if (typeof responsiveVoice !== "undefined") {
                responsiveVoice.speak(text, voice, {rate: 0.7});
            } else {
                alert("Tale-funktionen er ikke indlÃ¦st endnu. PrÃ¸v at genindlÃ¦se siden.");
            }
        }
    </script>
</head>
<body>
    <div class="cute-formal">
        <span class="danish-red">Velkommen til Danmark</span><br>
        <span class="danish-white">og lad os lÃ¦re dansk sammen!</span>
    </div>

    <div id="danish-catalog" style="margin: 32px auto 24px auto; max-width: 600px; background: rgba(255,255,255,0.92); border-radius: 16px; box-shadow: 0 2px 12px rgba(215,40,40,0.08); padding: 24px;">
        <h2 style="color:#d72828; font-family:'Quicksand','Nunito',Arial,sans-serif; text-align:center;">Dansk Samtale Katalog ğŸ‡©ğŸ‡°</h2>
        <ul style="font-size:1.1rem; line-height:1.7;">
            <li><a href="#a1-convo">A1: Hilsner og prÃ¦sentationer</a></li>
            <li><a href="#a2-convo">A2: Hverdagsliv</a></li>
            <li><a href="#b1-convo">B1: Rejser og oplevelser</a></li>
            <li><a href="#b2-convo">B2: Arbejde og studier</a></li>
            <li><a href="#c1-convo">C1: Samfund og debat</a></li>
            <li><a href="#c2-convo">C2: Avanceret diskussion</a></li>
        </ul>
        <hr style="margin:18px 0;">
        <h3 style="color:#d72828;">Vocabularium</h3>
        <ul style="font-size:1.05rem;">
            <li><a href="#vocab-greetings">Hilsner</a></li>
            <li><a href="#vocab-travel">Rejseord</a></li>
            <li><a href="#vocab-daily">Dagligdags udtryk</a></li>
            <li><a href="#vocab-work">Arbejde</a></li>
            <li><a href="#vocab-advanced">Avanceret ordforrÃ¥d</a></li>
        </ul>
    </div>

    <!-- A1: Hilsner og prÃ¦sentationer -->
    <div id="a1-convo" style="margin:32px auto; max-width:600px;">
        <h3 style="color:#d72828;">A1: Hilsner og prÃ¦sentationer</h3>
        <p>
            <strong>A:</strong> Hej! Jeg hedder Anna. Hvad hedder du?
            <button onclick="playDanish('Hej! Jeg hedder Anna. Hvad hedder du?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hej! Jeg hedder Anna. Hvad hedder du?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: Hi! My name is Anna. What is your name?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šå—¨ï¼æˆ‘å«å®‰å¨œã€‚ä½ å«ä»€ä¹ˆåå­—ï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Hej Anna! Jeg hedder Peter.
            <button onclick="playDanish('Hej Anna! Jeg hedder Peter.', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hej Anna! Jeg hedder Peter.', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: Hi Anna! My name is Peter.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šå—¨å®‰å¨œï¼æˆ‘å«å½¼å¾—ã€‚</span>
        </p>
        <p>
            <strong>A:</strong> Hvor kommer du fra?
            <button onclick="playDanish('Hvor kommer du fra?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hvor kommer du fra?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: Where are you from?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šä½ æ¥è‡ªå“ªé‡Œï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Jeg kommer fra Danmark. Og du?
            <button onclick="playDanish('Jeg kommer fra Danmark. Og du?', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg kommer fra Danmark. Og du?', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I am from Denmark. And you?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘æ¥è‡ªä¸¹éº¦ã€‚ä½ å‘¢ï¼Ÿ</span>
        </p>
        <p>
            <strong>A:</strong> Jeg kommer fra Kina.
            <button onclick="playDanish('Jeg kommer fra Kina.', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg kommer fra Kina.', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I am from China.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘æ¥è‡ªä¸­å›½ã€‚</span>
        </p>
    </div>

    <!-- A2: Hverdagsliv -->
    <div id="a2-convo" style="margin:32px auto; max-width:600px;">
        <h3 style="color:#d72828;">A2: Hverdagsliv</h3>
        <p>
            <strong>A:</strong> Hvad laver du i weekenden?
            <button onclick="playDanish('Hvad laver du i weekenden?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hvad laver du i weekenden?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: What do you do on weekends?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šä½ å‘¨æœ«åšä»€ä¹ˆï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Jeg besÃ¸ger min familie og gÃ¥r en tur i parken. Hvad med dig?
            <button onclick="playDanish('Jeg besÃ¸ger min familie og gÃ¥r en tur i parken. Hvad med dig?', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg besÃ¸ger min familie og gÃ¥r en tur i parken. Hvad med dig?', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I visit my family and take a walk in the park. What about you?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘å»çœ‹å®¶äººï¼Œè¿˜ä¼šå»å…¬å›­æ•£æ­¥ã€‚ä½ å‘¢ï¼Ÿ</span>
        </p>
        <p>
            <strong>A:</strong> Jeg slapper af og ser film.
            <button onclick="playDanish('Jeg slapper af og ser film.', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg slapper af og ser film.', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I relax and watch movies.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘ä¼‘æ¯ä¸€ä¸‹ï¼Œçœ‹ç”µå½±ã€‚</span>
        </p>
    </div>

    <!-- B1: Rejser og oplevelser -->
    <div id="b1-convo" style="margin:32px auto; max-width:600px;">
        <h3 style="color:#d72828;">B1: Rejser og oplevelser</h3>
        <p>
            <strong>A:</strong> Har du vÃ¦ret i udlandet fÃ¸r?
            <button onclick="playDanish('Har du vÃ¦ret i udlandet fÃ¸r?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Har du vÃ¦ret i udlandet fÃ¸r?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: Have you been abroad before?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šä½ ä»¥å‰å»è¿‡å›½å¤–å—ï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Ja, jeg har vÃ¦ret i Tyskland og Sverige. Det var spÃ¦ndende!
            <button onclick="playDanish('Ja, jeg har vÃ¦ret i Tyskland og Sverige. Det var spÃ¦ndende!', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Ja, jeg har vÃ¦ret i Tyskland og Sverige. Det var spÃ¦ndende!', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: Yes, I have been to Germany and Sweden. It was exciting!</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæ˜¯çš„ï¼Œæˆ‘å»è¿‡å¾·å›½å’Œç‘å…¸ã€‚å¾ˆæœ‰æ„æ€ï¼</span>
        </p>
        <p>
            <strong>A:</strong> Hvilket land kunne du bedst lide?
            <button onclick="playDanish('Hvilket land kunne du bedst lide?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hvilket land kunne du bedst lide?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: Which country did you like the most?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šä½ æœ€å–œæ¬¢å“ªä¸ªå›½å®¶ï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Jeg kunne bedst lide Sverige, fordi naturen er smuk.
            <button onclick="playDanish('Jeg kunne bedst lide Sverige, fordi naturen er smuk.', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg kunne bedst lide Sverige, fordi naturen er smuk.', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I liked Sweden the most because the nature is beautiful.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘æœ€å–œæ¬¢ç‘å…¸ï¼Œå› ä¸ºé‚£é‡Œçš„è‡ªç„¶é£å…‰å¾ˆç¾ã€‚</span>
        </p>
    </div>

    <!-- B2: Arbejde og studier -->
    <div id="b2-convo" style="margin:32px auto; max-width:600px;">
        <h3 style="color:#d72828;">B2: Arbejde og studier</h3>
        <p>
            <strong>A:</strong> Hvad arbejder du med?
            <button onclick="playDanish('Hvad arbejder du med?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hvad arbejder du med?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: What do you do for work?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šä½ åšä»€ä¹ˆå·¥ä½œï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Jeg er lÃ¦rer pÃ¥ en folkeskole. Hvad med dig?
            <button onclick="playDanish('Jeg er lÃ¦rer pÃ¥ en folkeskole. Hvad med dig?', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg er lÃ¦rer pÃ¥ en folkeskole. Hvad med dig?', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I am a teacher at a primary school. What about you?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘æ˜¯å°å­¦è€å¸ˆã€‚ä½ å‘¢ï¼Ÿ</span>
        </p>
        <p>
            <strong>A:</strong> Jeg studerer pÃ¥ universitetet og arbejder deltid i en butik.
            <button onclick="playDanish('Jeg studerer pÃ¥ universitetet og arbejder deltid i en butik.', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg studerer pÃ¥ universitetet og arbejder deltid i en butik.', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I study at university and work part-time in a shop.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘åœ¨å¤§å­¦å­¦ä¹ ï¼Œè¿˜åœ¨å•†åº—åšå…¼èŒã€‚</span>
        </p>
        <p>
            <strong>B:</strong> Det lyder travlt! Hvordan balancerer du det?
            <button onclick="playDanish('Det lyder travlt! Hvordan balancerer du det?', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Det lyder travlt! Hvordan balancerer du det?', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: That sounds busy! How do you balance it?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šå¬èµ·æ¥å¾ˆå¿™ï¼ä½ æ€ä¹ˆå¹³è¡¡çš„ï¼Ÿ</span>
        </p>
        <p>
            <strong>A:</strong> Jeg planlÃ¦gger min tid nÃ¸je og prÃ¸ver at slappe af i weekenden.
            <button onclick="playDanish('Jeg planlÃ¦gger min tid nÃ¸je og prÃ¸ver at slappe af i weekenden.', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg planlÃ¦gger min tid nÃ¸je og prÃ¸ver at slappe af i weekenden.', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I plan my time carefully and try to relax on weekends.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘ä¼šè®¤çœŸå®‰æ’æ—¶é—´ï¼Œå‘¨æœ«å°½é‡æ”¾æ¾ã€‚</span>
        </p>
    </div>

    <!-- C1: Samfund og debat -->
    <div id="c1-convo" style="margin:32px auto; max-width:600px;">
        <h3 style="color:#d72828;">C1: Samfund og debat</h3>
        <p>
            <strong>A:</strong> Hvad mener du om den danske velfÃ¦rdsmodel?
            <button onclick="playDanish('Hvad mener du om den danske velfÃ¦rdsmodel?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hvad mener du om den danske velfÃ¦rdsmodel?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: What do you think about the Danish welfare model?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šä½ æ€ä¹ˆçœ‹ä¸¹éº¦çš„ç¦åˆ©åˆ¶åº¦ï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Jeg synes, den er god, fordi alle har adgang til sundhed og uddannelse.
            <button onclick="playDanish('Jeg synes, den er god, fordi alle har adgang til sundhed og uddannelse.', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Jeg synes, den er god, fordi alle har adgang til sundhed og uddannelse.', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: I think it's good because everyone has access to healthcare and education.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘è§‰å¾—å¾ˆå¥½ï¼Œå› ä¸ºæ¯ä¸ªäººéƒ½èƒ½äº«å—åŒ»ç–—å’Œæ•™è‚²ã€‚</span>
        </p>
        <p>
            <strong>A:</strong> Men tror du, det kan fortsÃ¦tte i fremtiden?
            <button onclick="playDanish('Men tror du, det kan fortsÃ¦tte i fremtiden?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Men tror du, det kan fortsÃ¦tte i fremtiden?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: But do you think it can continue in the future?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šä½†ä½ è§‰å¾—å°†æ¥è¿˜èƒ½æŒç»­å—ï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Det afhÃ¦nger af Ã¸konomien og politiske beslutninger, men jeg hÃ¥ber det.
            <button onclick="playDanish('Det afhÃ¦nger af Ã¸konomien og politiske beslutninger, men jeg hÃ¥ber det.', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Det afhÃ¦nger af Ã¸konomien og politiske beslutninger, men jeg hÃ¥ber det.', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: It depends on the economy and political decisions, but I hope so.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šè¿™å–å†³äºç»æµå’Œæ”¿æ²»å†³ç­–ï¼Œä½†æˆ‘å¸Œæœ›å¯ä»¥ã€‚</span>
        </p>
    </div>

    <!-- C2: Avanceret diskussion -->
    <div id="c2-convo" style="margin:32px auto; max-width:600px;">
        <h3 style="color:#d72828;">C2: Avanceret diskussion</h3>
        <p>
            <strong>A:</strong> Hvordan ser du pÃ¥ globaliseringens indflydelse pÃ¥ dansk kultur?
            <button onclick="playDanish('Hvordan ser du pÃ¥ globaliseringens indflydelse pÃ¥ dansk kultur?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hvordan ser du pÃ¥ globaliseringens indflydelse pÃ¥ dansk kultur?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: How do you see the influence of globalization on Danish culture?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šä½ æ€ä¹ˆçœ‹å…¨çƒåŒ–å¯¹ä¸¹éº¦æ–‡åŒ–çš„å½±å“ï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Globalisering har bÃ¥de positive og negative sider. Den bringer nye ideer, men kan ogsÃ¥ true lokale traditioner.
            <button onclick="playDanish('Globalisering har bÃ¥de positive og negative sider. Den bringer nye ideer, men kan ogsÃ¥ true lokale traditioner.', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Globalisering har bÃ¥de positive og negative sider. Den bringer nye ideer, men kan ogsÃ¥ true lokale traditioner.', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: Globalization has both positive and negative sides. It brings new ideas but can also threaten local traditions.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šå…¨çƒåŒ–æœ‰å¥½æœ‰åã€‚å®ƒå¸¦æ¥æ–°æ€æƒ³ï¼Œä¹Ÿå¯èƒ½å¨èƒæœ¬åœ°ä¼ ç»Ÿã€‚</span>
        </p>
        <p>
            <strong>A:</strong> Hvordan kan vi bevare vores kultur i en globaliseret verden?
            <button onclick="playDanish('Hvordan kan vi bevare vores kultur i en globaliseret verden?', 'female')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Hvordan kan vi bevare vores kultur i en globaliseret verden?', 'female')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: How can we preserve our culture in a globalized world?</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šæˆ‘ä»¬å¦‚ä½•åœ¨å…¨çƒåŒ–çš„ä¸–ç•Œä¸­ä¿ç•™è‡ªå·±çš„æ–‡åŒ–ï¼Ÿ</span>
        </p>
        <p>
            <strong>B:</strong> Ved at vÃ¦rdsÃ¦tte vores sprog, traditioner og samtidig vÃ¦re Ã¥bne for forandring.
            <button onclick="playDanish('Ved at vÃ¦rdsÃ¦tte vores sprog, traditioner og samtidig vÃ¦re Ã¥bne for forandring.', 'male')">ğŸ”Š</button>
            <button onclick="playDanishSlow('Ved at vÃ¦rdsÃ¦tte vores sprog, traditioner og samtidig vÃ¦re Ã¥bne for forandring.', 'male')">ğŸ¢</button><br>
            <span style="color:#444; font-size:0.98em;">EN: By valuing our language, traditions, and at the same time being open to change.</span><br>
            <span style="color:#888; font-size:0.98em;">ä¸­æ–‡ï¼šçæƒœæˆ‘ä»¬çš„è¯­è¨€å’Œä¼ ç»Ÿï¼ŒåŒæ—¶ä¹Ÿè¦å¯¹å˜åŒ–ä¿æŒå¼€æ”¾ã€‚</span>
        </p>
    </div>

    <div id="profile-section" style="margin-bottom:16px; text-align:center;">
        <img id="profile-pic" src="https://api.dicebear.com/7.x/bottts/svg?seed=danish" alt="Avatar" style="width:60px; height:60px; border-radius:50%; border:2px solid #d72828; object-fit:cover;">
        <br>
        <input type="file" id="upload-pic" accept="image/*" style="display:none;">
        <button onclick="document.getElementById('upload-pic').click()" style="margin-top:6px;">Upload billede</button>
        <button onclick="chooseAvatar()" style="margin-top:6px;">VÃ¦lg avatar</button>
    </div>

    <!-- Chat Room Start -->
    <div id="chat-room" style="
        border:1px solid #ccc;
        padding:16px;
        width:350px;
        margin-top:30px;
        border-radius: 16px;
        background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80') center/cover no-repeat, linear-gradient(135deg, #fff8 60%, #d7282888 100%);
        box-shadow: 0 4px 24px rgba(215,40,40,0.08);
        ">
        <h2 style="color:#d72828; text-shadow: 1px 1px 6px #fff;">Chatrum ğŸ‡©ğŸ‡°</h2>
        <div id="chat-messages" style="height:150px; overflow-y:auto; border:1px solid #eee; padding:8px; background:rgba(255,255,255,0.85); margin-bottom:10px; border-radius:8px;"></div>
        <input type="text" id="chat-input" placeholder="Skriv en besked..." style="width:75%; border-radius:6px; border:1px solid #ccc; padding:4px;">
        <button onclick="sendMessage()" style="background:#d72828; color:#fff; border:none; border-radius:6px; padding:6px 12px; margin-left:4px;">Send</button>
    </div>
    <!-- Chat Room End -->

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const profilePic = document.getElementById('profile-pic');
        const uploadPic = document.getElementById('upload-pic');

        // Load saved avatar
        if(localStorage.getItem('profilePic')) {
            profilePic.src = localStorage.getItem('profilePic');
        }

        uploadPic.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(evt) {
                profilePic.src = evt.target.result;
                localStorage.setItem('profilePic', evt.target.result);
            };
            reader.readAsDataURL(file);
        });

        function chooseAvatar() {
            // Use DiceBear for random cute avatars
            const seed = Math.random().toString(36).substring(2, 10);
            const url = `https://api.dicebear.com/7.x/bottts/svg?seed=${seed}`;
            profilePic.src = url;
            localStorage.setItem('profilePic', url);
        }

        function loadChatHistory() {
            const history = JSON.parse(localStorage.getItem('chatHistory') || '[]');
            chatMessages.innerHTML = '';
            history.forEach((msgObj, idx) => {
                const msgDiv = document.createElement('div');
                msgDiv.style.marginBottom = '10px';

                // Main message
                const p = document.createElement('p');
                p.textContent = `${msgObj.user}: ${msgObj.text}`;
                p.style.margin = '0';

                // Translation
                const t = document.createElement('div');
                t.textContent = `OversÃ¦ttelse: ${msgObj.translation}`;
                t.style.fontSize = '0.95em';
                t.style.color = '#555';
                t.style.marginLeft = '12px';

                msgDiv.appendChild(p);
                msgDiv.appendChild(t);

                // Add edit/recall buttons to the last message
                if (idx === history.length - 1) {
                    const editBtn = document.createElement('button');
                    editBtn.textContent = 'Rediger';
                    editBtn.style.marginLeft = '8px';
                    editBtn.onclick = function() { editLastMessage(); };

                    const recallBtn = document.createElement('button');
                    recallBtn.textContent = 'Recall';
                    recallBtn.style.marginLeft = '4px';
                    recallBtn.onclick = function() { recallLastMessage(); };

                    msgDiv.appendChild(editBtn);
                    msgDiv.appendChild(recallBtn);
                }

                chatMessages.appendChild(msgDiv);
            });
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function saveMessage(msg) {
            const history = JSON.parse(localStorage.getItem('chatHistory') || '[]');
            history.push(msg);
            localStorage.setItem('chatHistory', JSON.stringify(history));
        }

        function updateLastMessage(newMsg) {
            const history = JSON.parse(localStorage.getItem('chatHistory') || '[]');
            if (history.length > 0) {
                history[history.length - 1] = newMsg;
                localStorage.setItem('chatHistory', JSON.stringify(history));
            }
        }

        async function translateMessage(text, targetLang = 'en') {
            // You can change 'en' to any supported language code, e.g., 'da' for Danish, 'de' for German, etc.
            const res = await fetch('https://libretranslate.de/translate', {
                method: 'POST',
                body: JSON.stringify({
                    q: text,
                    source: 'auto',
                    target: targetLang,
                    format: 'text'
                }),
                headers: { 'Content-Type': 'application/json' }
            });
            const data = await res.json();
            return data.translatedText;
        }

        async function sendMessage() {
            const msg = chatInput.value.trim();
            if (msg) {
                // User message
                const fullMsg = { user: "Du", text: msg, translation: "" };
                saveMessage(fullMsg);
                loadChatHistory();
                chatInput.value = '';

                // Translate the message and display it
                const translated = await translateMessage(msg, 'en');
                fullMsg.translation = translated;
                updateLastMessage(fullMsg);
                loadChatHistory();

                // Bot reply (simulate bot only if not empty and not a command)
                if (msg.length > 0) {
                    // Call Monkedev API for bot reply
                    try {
                        const res = await fetch(`https://api.monkedev.com/fun/chat?msg=${encodeURIComponent(msg)}&uid=danishuser`);
                        const data = await res.json();
                        const botMsg = { user: "Bot", text: data.response, translation: await translateMessage(data.response, 'da') };
                        saveMessage(botMsg);
                        loadChatHistory();
                    } catch (error) {
                        console.error("Error fetching bot reply:", error);
                    }
                }
            }
        }

        function editLastMessage() {
            const history = JSON.parse(localStorage.getItem('chatHistory') || '[]');
            if (history.length > 0) {
                // Remove "Du: " prefix for editing
                let lastMsg = history[history.length - 1];
                chatInput.value = lastMsg.text;
                chatInput.focus();
                // Remove last message so it will be replaced on send
                history.pop();
                localStorage.setItem('chatHistory', JSON.stringify(history));
                loadChatHistory();
            }
        }

        function recallLastMessage() {
            const history = JSON.parse(localStorage.getItem('chatHistory') || '[]');
            if (history.length > 0) {
                history.pop();
                localStorage.setItem('chatHistory', JSON.stringify(history));
                loadChatHistory();
            }
        }

        chatInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') sendMessage();
        });

        loadChatHistory();
    </script>
</body>
</html>